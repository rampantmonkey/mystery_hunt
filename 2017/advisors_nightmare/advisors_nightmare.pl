:- use_module(library(clpfd)).

all_members([H], L2) :- member(H, L2).
all_members([H|T],L2) :- member(H, L2), all_members(T, L2).


solve(Schedule) :-
  Schedule = [C1_1, C1_2, C1_3, C2_1, C2_2, C2_3, C3_1, C3_2, C3_3, C4_1, C4_2, C4_3, C5_1, C5_2, C5_3, C6_1, C6_2, C6_3, C7_1, C7_2, C7_3, C8_1, C8_2, C8_3, C9_1, C9_2, C9_3, C10_1, C10_2, C10_3, C11_1, C11_2, C11_3, C12_1, C12_2, C12_3],

  C1_1  = [C1_1_num,  Trimester_01],
  C1_2  = [C1_2_num,  Trimester_01],
  C1_3  = [C1_3_num,  Trimester_01],
  C2_1  = [C2_1_num,  Trimester_02],
  C2_2  = [C2_2_num,  Trimester_02],
  C2_3  = [C2_3_num,  Trimester_02],
  C3_1  = [C3_1_num,  Trimester_03],
  C3_2  = [C3_2_num,  Trimester_03],
  C3_3  = [C3_3_num,  Trimester_03],
  C4_1  = [C4_1_num,  Trimester_04],
  C4_2  = [C4_2_num,  Trimester_04],
  C4_3  = [C4_3_num,  Trimester_04],
  C5_1  = [C5_1_num,  Trimester_05],
  C5_2  = [C5_2_num,  Trimester_05],
  C5_3  = [C5_3_num,  Trimester_05],
  C6_1  = [C6_1_num,  Trimester_06],
  C6_2  = [C6_2_num,  Trimester_06],
  C6_3  = [C6_3_num,  Trimester_06],
  C7_1  = [C7_1_num,  Trimester_07],
  C7_2  = [C7_2_num,  Trimester_07],
  C7_3  = [C7_3_num,  Trimester_07],
  C8_1  = [C8_1_num,  Trimester_08],
  C8_2  = [C8_2_num,  Trimester_08],
  C8_3  = [C8_3_num,  Trimester_08],
  C9_1  = [C9_1_num,  Trimester_09],
  C9_2  = [C9_2_num,  Trimester_09],
  C9_3  = [C9_3_num,  Trimester_09],
  C10_1 = [C10_1_num, Trimester_10],
  C10_2 = [C10_2_num, Trimester_10],
  C10_3 = [C10_3_num, Trimester_10],
  C11_1 = [C11_1_num, Trimester_11],
  C11_2 = [C11_2_num, Trimester_11],
  C11_3 = [C11_3_num, Trimester_11],
  C12_1 = [C12_1_num, Trimester_12],
  C12_2 = [C12_2_num, Trimester_12],
  C12_3 = [C12_3_num, Trimester_12],


  all_members(
  [e102, e115, e128, e145_1, e145_2, e156, e176, e180, e199, e205, e234, e253, e265, e272, e289, e308, e332, e343, e344, e361, e373, e390, e397, e402, e421, e426, e428, e438, e440, e468, e474, e475, e504, e512, e516, e530],
  [C1_1_num, C1_2_num, C1_3_num, C2_1_num, C2_2_num, C2_3_num, C3_1_num, C3_2_num, C3_3_num, C4_1_num, C4_2_num, C4_3_num, C5_1_num, C5_2_num, C5_3_num, C6_1_num, C6_2_num, C6_3_num, C7_1_num, C7_2_num, C7_3_num, C8_1_num, C8_2_num, C8_3_num, C9_1_num, C9_2_num, C9_3_num, C10_1_num, C10_2_num, C10_3_num, C11_1_num, C11_2_num, C11_3_num, C12_1_num, C12_2_num, C12_3_num]
  ),

  Trimester_01 = 1,
  Trimester_02 = 2,
  Trimester_03 = 3,
  Trimester_04 = 4,
  Trimester_05 = 5,
  Trimester_06 = 6,
  Trimester_07 = 7,
  Trimester_08 = 8,
  Trimester_09 = 9,
  Trimester_10 = 10,
  Trimester_11 = 11,
  Trimester_12 = 12,


  all_members(Schedule, Offerings),


  Offerings = [
    % fall 2017
    [e102, 1], [e156, 1], [e332, 1], [e397, 1], [e474, 1],
    [e176, 1], [e265, 1], [e289, 1], [e361, 1], [e373, 1],
    [e145_1, 1], [e145_2, 1], [e199, 1], [e390, 1], [e402, 1], [e438, 1],
    [e115, 1], [e234, 1], [e308, 1], [e426, 1], [e428, 1],
    [e128, 1], [e180, 1], [e272, 1], [e421, 1], [e468, 1],

    % winter 2017
    [e308,2], [e361,2], [e402,2], [e440,2], [e468,2],
    [e128,2], [e176,2], [e253,2], [e390,2], [e474,2],
    [e156,2], [e265,2], [e344,2], [e421,2], [e428,2],
    [e205,2], [e234,2], [e289,2], [e332,2], [e438,2],
    [e115,2], [e145_1,2], [e145_2,2], [e180,2], [e373,2], [e426,2],

    % Spring2018
    [e176, 3], [e421, 3], [e428, 3], [e468, 3], [e475, 3],
    [e156, 3], [e205, 3], [e373, 3], [e390, 3], [e402, 3],
    [e289, 3], [e308, 3], [e361, 3], [e512, 3], [e530, 3],
    [e115, 3], [e234, 3], [e343, 3], [e426, 3], [e516, 3],
    [e180, 3], [e265, 3], [e332, 3], [e438, 3], [e504, 3],

    % fall 2018
  [e115, 4], [e390, 4], [e397, 4], [e426, 4], [e468, 4],
  [e128, 4], [e156, 4], [e373, 4], [e428, 4], [e438, 4],
  [e180, 4], [e199, 4], [e265, 4], [e361, 4], [e421, 4],
  [e145_1, 4], [e145_2, 4], [e234, 4], [e272, 4], [e289, 4], [e308, 4],
  [e102, 4], [e176, 4], [e332, 4], [e402, 4], [e474, 4],

  % winter 2018
  [e176, 5], [e361, 5], [e421, 5], [e426, 5], [e440, 5],
  [e180, 5], [e205, 5], [e234, 5], [e332, 5], [e344, 5],
  [e128, 5], [e156, 5], [e373, 5], [e390, 5], [e438, 5],
  [e115, 5], [e145_1, 5], [e145_2, 5], [e289, 5], [e402, 5], [e474, 5],
  [e253, 5], [e265, 5], [e308, 5], [e428, 5], [e468, 5],

  % spring 2019
  [e176, 6], [e361, 6], [e468, 6], [e512, 6], [e516, 6],
  [e234, 6], [e265, 6], [e343, 6], [e438, 6], [e475, 6],
  [e156, 6], [e205, 6], [e332, 6], [e421, 6], [e504, 6],
  [e180, 6], [e308, 6], [e402, 6], [e426, 6], [e530, 6],
  [e115, 6], [e289, 6], [e373, 6], [e390, 6], [e428, 6],

  % fall 2019
  [e145_1, 7], [e145_2, 7], [e199, 7], [e332, 7], [e390, 7], [e397, 7],
  [e115, 7], [e265, 7], [e373, 7], [e426, 7], [e438, 7],
  [e102, 7], [e128, 7], [e272, 7], [e421, 7], [e468, 7],
  [e176, 7], [e180, 7], [e289, 7], [e308, 7], [e474, 7],
  [e156, 7], [e234, 7], [e361, 7], [e402, 7], [e428, 7],

  %Winter2019
  [e145_1, 8], [e145_2, 8], [e156, 8], [e176, 8], [e361, 8], [e426, 8],
  [e205, 8], [e253, 8], [e265, 8], [e440, 8], [e468, 8],
  [e115, 8], [e289, 8], [e373, 8], [e428, 8], [e438, 8],
  [e128, 8], [e332, 8], [e344, 8], [e421, 8], [e474, 8],
  [e180, 8], [e234, 8], [e308, 8], [e390, 8], [e402, 8],

  %Spring2020
  [e289, 9], [e308, 9], [e332, 9], [e343, 9], [e428, 9],
  [e176, 9], [e361, 9], [e421, 9], [e426, 9], [e468, 9],
  [e115, 9], [e205, 9], [e402, 9], [e438, 9], [e504, 9],
  [e156, 9], [e180, 9], [e475, 9], [e512, 9], [e516, 9],
  [e234, 9], [e265, 9], [e373, 9], [e390, 9], [e530, 9],

  %Fall2020
  [e115, 10], [e289, 10], [e426, 10], [e438, 10], [e474, 10],
  [e145_1, 10], [e145_2, 10], [e157, 10], [e176, 10], [e421, 10], [e468, 10],
  [e102, 10], [e128, 10], [e265, 10], [e332, 10], [e390, 10],
  [e234, 10], [e308, 10], [e361, 10], [e397, 10], [e428, 10],
  [e180, 10], [e199, 10], [e272, 10], [e373, 10], [e402, 10],

  %Winter2020
  [e176, 11], [e332, 11], [e344, 11], [e361, 11], [e474, 11],
  [e205, 11], [e253, 11], [e289, 11], [e373, 11], [e421, 11],
  [e115, 11], [e156, 11], [e180, 11], [e428, 11], [e468, 11],
  [e145_1, 11], [e145_2, 11], [e234, 11], [e426, 11], [e438, 11], [e440, 11],
  [e128, 11], [e265, 11], [e308, 11], [e390, 11], [e402, 11],

  %Spring2021
  [e308, 12], [e361, 21], [e390, 12], [e475, 12], [e504, 12],
  [e180, 12], [e205, 21], [e234, 12], [e265, 12], [e530, 12],
  [e176, 12], [e289, 21], [e343, 12], [e421, 12], [e438, 12],
  [e332, 12], [e426, 21], [e428, 12], [e468, 12], [e516, 12],
  [e115, 12], [e156, 21], [e373, 12], [e402, 12], [e512, 12]
  ].
